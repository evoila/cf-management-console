<div layout="column" ng-init="init()">

	<md-list id="orgUserList">
		<div layout="column" layout-gt-md="row" layout-align="start start">
	    <h2>Users of {{org.entity.name}}</h2>
			<div layout="row" layout-align="start center" style="margin-top:2px;">
				<button type="button" aria-label="Show Create User Dialog" class="md-button md-icon-button md-primary" style="text-align:center;" ng-click="showCreateUserDialog()">
					<md-icon class="no-focus" md-svg-icon="assets/svg/ic_add_48px.svg"></md-icon>
				</button>

				<md-switch class="no-focus" ng-model="editMode" aria-label="Toggle edit" style="margin-left:0;">editable</md-switch>
			</div>

		</div>

		<md-divider></md-divider>

    <md-list-item id="item-{{$index}}" class="md-3-line" ng-repeat="user in orgUsers" ng-mouseover="editMode=true" ng-mouseleave="editMode=false" style="padding:10px 0;">
      <div class="md-list-item-text" layout="column">
				<div layout="row" layout-align="start center">

					<div flex class="fadeInLeft" ng-show="editMode" layout="row" layout-align="start center" style="max-width:120px;">
						<div flex style="max-width:50px;">
							<button class="md-button md-icon-button md-primary" type="button" aria-label="Edit User" style="text-align:center;" ng-click="switchToEditUser(user)">
								<md-icon class="no-focus" md-svg-icon="assets/svg/ic_edit_48px.svg"></md-icon>
							</button>
						</div>

						<div flex style="max-width:50px;">
							<button class="md-button md-icon-button md-warn" type="button" aria-label="Delete User" style="text-align:center;" ng-click="showConfirm($event, user)">
								<md-icon class="no-focus" md-svg-icon="assets/svg/ic_delete_48px.svg"></md-icon>
							</button>
						</div>
					</div>

					<div flex layout="column" layout-align="start start">

						<div flex="100" layout="row">
	        		<h3>{{ user.entity.username }}</h3>
						</div>

						<div flex="100" layout="column" style="min-width:100%;">
							<!--
							<div flex="33" ng-show="user.isOrgManager"><p style="text-align:center" hide-sm>Manager</p><p style="text-align:right" hide-gt-sm>M</p></div>
							<div flex="33" ng-show="user.isOrgBillingManager"><p style="text-align:center" hide-sm>Billing Manager</p><p style="text-align:right" hide-gt-sm>BM</p></div>
							<div flex="33" ng-show="user.isOrgAuditor"><p style="text-align:center" hide-sm>Auditor</p><p style="text-align:right" hide-gt-sm>A</p></div>
						-->
						<div flex= ng-show="user.isOrgManager"><p>Manager</p></div>
						<div flex ng-show="user.isOrgBillingManager"><p>Billing Manager</p></div>
						<div flex ng-show="user.isOrgAuditor"><p>Auditor</p></div>
						</div>

					</div>

				</div>
      </div>
			<md-divider></md-divider>

    </md-list-item>
	</md-list>

</div>
